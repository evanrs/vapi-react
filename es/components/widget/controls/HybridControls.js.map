{"version":3,"file":"HybridControls.js","sources":["../../../../src/components/widget/controls/HybridControls.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  PaperPlaneTiltIcon,\n  MicrophoneIcon,\n  MicrophoneSlashIcon,\n  StopIcon,\n  WaveformIcon,\n} from '@phosphor-icons/react';\nimport { HybridControlsProps } from '../../types';\n\nconst HybridControls: React.FC<HybridControlsProps> = ({\n  chatInput,\n  isCallActive,\n  connectionStatus,\n  isChatAvailable,\n  isVoiceAvailable,\n  isMuted,\n  onInputChange,\n  onSendMessage,\n  onToggleCall,\n  onToggleMute,\n  colors,\n  styles,\n  inputRef,\n  placeholder = 'Type your message...', // Default fallback\n}) => (\n  <div className=\"flex items-center space-x-2\">\n    <input\n      ref={inputRef}\n      type=\"text\"\n      value={chatInput}\n      onChange={onInputChange}\n      onKeyPress={(e) =>\n        e.key === 'Enter' && isChatAvailable && !isCallActive && onSendMessage()\n      }\n      placeholder={placeholder}\n      disabled={isCallActive}\n      className={`flex-1 px-3 py-2 rounded-lg border ${\n        styles.theme === 'dark'\n          ? 'border-gray-600 text-white placeholder-gray-400'\n          : 'border-gray-300 text-gray-900 placeholder-gray-500'\n      } focus:outline-none focus:ring-2 ${\n        isCallActive ? 'opacity-50 cursor-not-allowed' : ''\n      }`}\n      style={\n        {\n          '--tw-ring-color':\n            styles.theme === 'dark'\n              ? `${colors.accentColor}33` // 20% opacity in dark mode\n              : `${colors.accentColor}80`, // 50% opacity in light mode\n          backgroundColor: colors.baseColor,\n          filter:\n            styles.theme === 'dark' ? 'brightness(1.8)' : 'brightness(0.98)',\n        } as React.CSSProperties\n      }\n    />\n    <button\n      onClick={onSendMessage}\n      disabled={!chatInput.trim() || !isChatAvailable || isCallActive}\n      className={`h-10 w-10 flex items-center justify-center rounded-lg transition-all ${\n        !chatInput.trim() || !isChatAvailable || isCallActive\n          ? 'opacity-50 cursor-not-allowed'\n          : 'hover:opacity-90 active:scale-95'\n      }`}\n      style={{\n        backgroundColor: colors.accentColor,\n        color: colors.ctaButtonTextColor || 'white',\n      }}\n      title=\"Send message\"\n    >\n      <PaperPlaneTiltIcon size={20} weight=\"fill\" />\n    </button>\n    {isCallActive && connectionStatus === 'connected' && (\n      <button\n        onClick={onToggleMute}\n        className=\"h-10 w-10 flex items-center justify-center rounded-lg transition-all hover:opacity-90 active:scale-95\"\n        style={{\n          backgroundColor: isMuted ? '#ef4444' : colors.accentColor,\n          color: colors.ctaButtonTextColor || 'white',\n        }}\n        title={isMuted ? 'Unmute microphone' : 'Mute microphone'}\n      >\n        {isMuted ? (\n          <MicrophoneSlashIcon size={20} weight=\"fill\" />\n        ) : (\n          <MicrophoneIcon size={20} weight=\"fill\" />\n        )}\n      </button>\n    )}\n    <button\n      onClick={onToggleCall}\n      disabled={!isVoiceAvailable && !isCallActive}\n      className={`h-10 w-10 flex items-center justify-center rounded-lg transition-all ${\n        !isVoiceAvailable && !isCallActive\n          ? 'opacity-50 cursor-not-allowed'\n          : 'hover:opacity-90 active:scale-95'\n      }`}\n      style={{\n        backgroundColor: isCallActive ? '#ef4444' : colors.accentColor,\n        color: colors.ctaButtonTextColor || 'white',\n      }}\n      title={\n        connectionStatus === 'connecting'\n          ? 'Connecting...'\n          : isCallActive\n            ? 'Stop voice call'\n            : 'Start voice call'\n      }\n    >\n      {connectionStatus === 'connecting' ? (\n        <div className=\"animate-spin w-5 h-5 border-2 border-current border-t-transparent rounded-full\"></div>\n      ) : isCallActive ? (\n        <StopIcon size={20} weight=\"fill\" />\n      ) : (\n        <WaveformIcon size={20} weight=\"bold\" />\n      )}\n    </button>\n  </div>\n);\n\nexport default HybridControls;\n"],"names":["HybridControls","chatInput","isCallActive","connectionStatus","isChatAvailable","isVoiceAvailable","isMuted","onInputChange","onSendMessage","onToggleCall","onToggleMute","colors","styles","inputRef","placeholder","jsxs","jsx","e","PaperPlaneTiltIcon","MicrophoneSlashIcon","MicrophoneIcon","StopIcon","WaveformIcon"],"mappings":";;AAUA,MAAMA,IAAgD,CAAC;AAAA,EACrD,WAAAC;AAAA,EACA,cAAAC;AAAA,EACA,kBAAAC;AAAA,EACA,iBAAAC;AAAA,EACA,kBAAAC;AAAA,EACA,SAAAC;AAAA,EACA,eAAAC;AAAA,EACA,eAAAC;AAAA,EACA,cAAAC;AAAA,EACA,cAAAC;AAAA,EACA,QAAAC;AAAA,EACA,QAAAC;AAAA,EACA,UAAAC;AAAA,EACA,aAAAC,IAAc;AAAA;AAChB,MACE,gBAAAC,EAAC,OAAA,EAAI,WAAU,+BACb,UAAA;AAAA,EAAA,gBAAAC;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,KAAKH;AAAA,MACL,MAAK;AAAA,MACL,OAAOZ;AAAA,MACP,UAAUM;AAAA,MACV,YAAY,CAACU,MACXA,EAAE,QAAQ,WAAWb,KAAmB,CAACF,KAAgBM,EAAA;AAAA,MAE3D,aAAAM;AAAA,MACA,UAAUZ;AAAA,MACV,WAAW,sCACTU,EAAO,UAAU,SACb,oDACA,oDACN,oCACEV,IAAe,kCAAkC,EACnD;AAAA,MACA,OACE;AAAA,QACE,mBACEU,EAAO,UAAU,SACb,GAAGD,EAAO,WAAW,OACrB,GAAGA,EAAO,WAAW;AAAA;AAAA,QAC3B,iBAAiBA,EAAO;AAAA,QACxB,QACEC,EAAO,UAAU,SAAS,oBAAoB;AAAA,MAAA;AAAA,IAClD;AAAA,EAAA;AAAA,EAGJ,gBAAAI;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,SAASR;AAAA,MACT,UAAU,CAACP,EAAU,KAAA,KAAU,CAACG,KAAmBF;AAAA,MACnD,WAAW,wEACT,CAACD,EAAU,KAAA,KAAU,CAACG,KAAmBF,IACrC,kCACA,kCACN;AAAA,MACA,OAAO;AAAA,QACL,iBAAiBS,EAAO;AAAA,QACxB,OAAOA,EAAO,sBAAsB;AAAA,MAAA;AAAA,MAEtC,OAAM;AAAA,MAEN,UAAA,gBAAAK,EAACE,GAAA,EAAmB,MAAM,IAAI,QAAO,OAAA,CAAO;AAAA,IAAA;AAAA,EAAA;AAAA,EAE7ChB,KAAgBC,MAAqB,eACpC,gBAAAa;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,SAASN;AAAA,MACT,WAAU;AAAA,MACV,OAAO;AAAA,QACL,iBAAiBJ,IAAU,YAAYK,EAAO;AAAA,QAC9C,OAAOA,EAAO,sBAAsB;AAAA,MAAA;AAAA,MAEtC,OAAOL,IAAU,sBAAsB;AAAA,MAEtC,UAAAA,IACC,gBAAAU,EAACG,GAAA,EAAoB,MAAM,IAAI,QAAO,OAAA,CAAO,IAE7C,gBAAAH,EAACI,GAAA,EAAe,MAAM,IAAI,QAAO,OAAA,CAAO;AAAA,IAAA;AAAA,EAAA;AAAA,EAI9C,gBAAAJ;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,SAASP;AAAA,MACT,UAAU,CAACJ,KAAoB,CAACH;AAAA,MAChC,WAAW,wEACT,CAACG,KAAoB,CAACH,IAClB,kCACA,kCACN;AAAA,MACA,OAAO;AAAA,QACL,iBAAiBA,IAAe,YAAYS,EAAO;AAAA,QACnD,OAAOA,EAAO,sBAAsB;AAAA,MAAA;AAAA,MAEtC,OACER,MAAqB,eACjB,kBACAD,IACE,oBACA;AAAA,MAGP,UAAAC,MAAqB,eACpB,gBAAAa,EAAC,OAAA,EAAI,WAAU,iFAAA,CAAiF,IAC9Fd,IACF,gBAAAc,EAACK,GAAA,EAAS,MAAM,IAAI,QAAO,QAAO,IAElC,gBAAAL,EAACM,KAAa,MAAM,IAAI,QAAO,OAAA,CAAO;AAAA,IAAA;AAAA,EAAA;AAE1C,EAAA,CACF;"}