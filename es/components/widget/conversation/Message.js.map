{"version":3,"file":"Message.js","sources":["../../../../src/components/widget/conversation/Message.tsx"],"sourcesContent":["import React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport { ConversationMessageProps, MarkdownMessageProps } from '../../types';\nimport { messageRadiusClasses } from '../../constants';\n\nconst MarkdownMessage: React.FC<MarkdownMessageProps> = ({\n  content,\n  isLoading,\n  role,\n}) => (\n  <div className=\"markdown-content\">\n    <ReactMarkdown\n      components={{\n        p: ({ children }) => <p className=\"mb-3 last:mb-0\">{children}</p>,\n        ul: ({ children }) => (\n          <ul className=\"list-disc list-inside mb-3 last:mb-0\">{children}</ul>\n        ),\n        ol: ({ children }) => (\n          <ol className=\"list-decimal list-inside mb-3 last:mb-0\">\n            {children}\n          </ol>\n        ),\n        li: ({ children }) => <li className=\"mb-0.5\">{children}</li>,\n        code: ({ children, ...props }) => {\n          const inline = !('inline' in props) || props.inline;\n          return inline ? (\n            <code className=\"px-1 py-0.5 rounded bg-black bg-opacity-10 text-sm\">\n              {children}\n            </code>\n          ) : (\n            <pre className=\"p-2 rounded bg-black bg-opacity-10 overflow-x-auto text-sm\">\n              <code>{children}</code>\n            </pre>\n          );\n        },\n        a: ({ children, href }) => (\n          <a\n            href={href}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"underline hover:opacity-80\"\n          >\n            {children}\n          </a>\n        ),\n        strong: ({ children }) => (\n          <strong className=\"font-semibold\">{children}</strong>\n        ),\n        em: ({ children }) => <em className=\"italic\">{children}</em>,\n        h1: ({ children }) => (\n          <h1 className=\"text-lg font-bold mb-1\">{children}</h1>\n        ),\n        h2: ({ children }) => (\n          <h2 className=\"text-base font-bold mb-1\">{children}</h2>\n        ),\n        h3: ({ children }) => (\n          <h3 className=\"text-sm font-bold mb-1\">{children}</h3>\n        ),\n        blockquote: ({ children }) => (\n          <blockquote className=\"border-l-2 pl-2 my-3 opacity-80\">\n            {children}\n          </blockquote>\n        ),\n      }}\n    >\n      {content}\n    </ReactMarkdown>\n    {isLoading && role === 'assistant' && (\n      <span className=\"inline-block w-0.5 h-4 ml-0.5 bg-current animate-blink\" />\n    )}\n  </div>\n);\n\nconst ConversationMessage: React.FC<ConversationMessageProps> = ({\n  role,\n  content,\n  colors,\n  styles,\n  isLoading = false,\n}) => (\n  <div className={`flex ${role === 'user' ? 'justify-end' : 'justify-start'}`}>\n    <div\n      className={`max-w-xs px-3 py-2 ${messageRadiusClasses[styles.radius]} text-sm`}\n      style={{\n        backgroundColor:\n          role === 'user'\n            ? colors.accentColor\n            : styles.theme === 'dark'\n              ? colors.baseColor // Will use filter for differentiation\n              : colors.baseColor,\n        color:\n          role === 'user'\n            ? '#FFFFFF'\n            : styles.theme === 'dark'\n              ? '#FFFFFF'\n              : '#1F2937',\n        ...(role === 'assistant' && {\n          filter:\n            styles.theme === 'dark'\n              ? 'brightness(1.5) contrast(0.9)'\n              : 'brightness(0.95) contrast(1.05)',\n        }),\n      }}\n    >\n      <MarkdownMessage content={content} isLoading={isLoading} role={role} />\n    </div>\n  </div>\n);\n\nexport default ConversationMessage;\n"],"names":["MarkdownMessage","content","isLoading","role","jsxs","jsx","ReactMarkdown","children","props","href","ConversationMessage","colors","styles","messageRadiusClasses"],"mappings":"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"}